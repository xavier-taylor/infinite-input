# TODO check that all of these are just queries of the cache

query ForgottenWords(
  $documentId: String!
  $includeListen: Boolean = false
  $includeRead: Boolean = false
) {
  document(id: $documentId) {
    sentences {
      words {
        forgotLISTEN @include(if: $includeListen)
        forgotREAD @include(if: $includeRead)
        wordHanzi
      }
    }
  }
}

# not sure if the include directive will work how I need
# as this query is being used for a writeQuery!
# This query is used for a cache write query
query ForgotSentenceWord(
  $sentenceId: String!
  $stanzaId: Int!
  $includeRead: Boolean = false
  $includeListen: Boolean = false
) {
  sentenceWord(sentenceId: $sentenceId, stanzaId: $stanzaId) {
    stanzaId
    sentenceId
    forgotLISTEN @include(if: $includeListen)
    forgotREAD @include(if: $includeRead)
  }
}

query StudentWord($hanzi: String!) {
  studentWord(hanzi: $hanzi) {
    hanzi
    learning
    due
  }
}

# Note we are just using is to query the cache - we don't currently even have a
# resolver for this at the backend!
query StudentWordForLearning($hanzi: String!) {
  studentWord(hanzi: $hanzi) {
    hanzi
    learning
    due
    word {
      hanzi
      ccceDefinitions {
        simplified
        traditional
        pinyin
        definitions
      }
    }
  }
}
